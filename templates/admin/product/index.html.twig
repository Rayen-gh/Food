{% extends 'adminbase.html.twig' %}

{% block title %}Product Index{% endblock %}

{% block body %}
  <div class="content-wrapper">
    <!-- Page Title -->
    <div class="page-title">
      <h1>Products</h1>
    </div>

    <!-- Product Table -->
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Image</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
          <tr>
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.price | number_format(2) }}</td>
            <td>{{ product.quantity }}</td>
            <td>
              <img src="{{ asset('uploads/images/' ~ product.image) }}" alt="{{ product.name }}" style="max-width: 100px; max-height: 100px; object-fit: cover;">
            </td>
            <td class="actions">
              <a href="{{ path('app_product_show', {'id': product.id}) }}">Show</a>
              <a href="{{ path('app_product_edit', {'id': product.id}) }}">Edit</a>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="7" class="no-records">No records found</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Create New Product Button -->
    <a href="{{ path('app_product_new') }}" class="btn-create">Create New Product</a>
  </div>

  {% block stylesheets %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      /* Content wrapper style */
      .content-wrapper {
        margin-left: 220px; /* Adjust according to sidebar width */
        padding: 20px;
      }

      /* Page title styling */
      .page-title {
        font-size: 1.8rem;
        font-weight: bold;
        margin-bottom: 20px;
      }

      /* Table styling */
      .table th, .table td {
        vertical-align: middle;
        text-align: center;
      }

      .table {
        margin-top: 20px;
      }

      .table-bordered {
        border: 1px solid #ddd;
      }

      .table th {
        background-color: #f8f9fa;
        font-weight: 600;
      }

      .table td {
        padding: 15px;
      }

      .table tr:nth-child(odd) {
        background-color: #f9f9f9;
      }

      .table tr:nth-child(even) {
        background-color: #ffffff;
      }

      /* Action link styles */
      .actions a {
        margin: 0 10px;
        color: #007bff;
        text-decoration: none;
        font-weight: 600;
      }

      .actions a:hover {
        color: #0056b3;
        text-decoration: underline;
      }

      /* No records style */
      .no-records {
        text-align: center;
        font-style: italic;
      }

      /* Button styling */
      .btn-create {
         display: inline-block;
      padding: 5px 10px;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      margin-top: 20px;
      transition: background-color 0.3s ease;
      margin-left:75%
      }

      .btn-create:hover {
        background-color: #0056b3;
        color:white;
      }

      /* Image styling */
      img {
        max-width: 100px;
        max-height: 100px;
        object-fit: cover;
      }
    </style>
  {% endblock %}
{% endblock %}
